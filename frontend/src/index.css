@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-white dark:bg-black text-gray-900 dark:text-gray-100 font-sans;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .btn-primary {
    @apply bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200 focus:ring-gray-500 border border-black dark:border-white;
  }

  .btn-secondary {
    @apply bg-gray-800 dark:bg-gray-200 text-white dark:text-black hover:bg-gray-700 dark:hover:bg-gray-300 focus:ring-gray-500 border border-gray-800 dark:border-gray-200;
  }

  .btn-outline {
    @apply border-2 border-gray-900 dark:border-gray-100 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-900 focus:ring-gray-500;
  }

  .btn-danger {
    @apply bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200 focus:ring-gray-500 border-2 border-black dark:border-white;
  }

  .input {
    @apply w-full px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-black text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100 focus:border-transparent transition-all;
  }

  .card {
    @apply bg-white dark:bg-black rounded-xl shadow-lg p-6 border-2 border-gray-200 dark:border-gray-800 transition-all duration-200;
  }

  .card-hover {
    @apply hover:shadow-2xl hover:scale-[1.02] hover:border-gray-900 dark:hover:border-gray-100;
  }

  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border-2;
  }

  .badge-easy {
    @apply bg-white dark:bg-black text-gray-900 dark:text-gray-100 border-gray-400 dark:border-gray-600;
  }

  .badge-medium {
    @apply bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-500 dark:border-gray-500;
  }

  .badge-hard {
    @apply bg-black dark:bg-white text-white dark:text-black border-black dark:border-white;
  }

  .tag {
    @apply inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-700 mr-1 mb-1;
  }
}

/* React Quill Editor Styles */
.ql-container {
  @apply border-2 border-gray-300 dark:border-gray-600 rounded-b-lg;
}

.ql-toolbar {
  @apply border-2 border-gray-300 dark:border-gray-600 rounded-t-lg bg-gray-50 dark:bg-gray-900;
}

.ql-editor {
  @apply min-h-[200px] text-gray-900 dark:text-gray-100 bg-white dark:bg-black;
}

.ql-snow .ql-stroke {
  @apply stroke-gray-700 dark:stroke-gray-300;
}

.ql-snow .ql-fill {
  @apply fill-gray-700 dark:fill-gray-300;
}

.ql-snow .ql-picker-label {
  @apply text-gray-700 dark:text-gray-300;
}

.ql-snow .ql-picker-options {
  @apply bg-white dark:bg-gray-900 border-2 border-gray-300 dark:border-gray-600;
}

.ql-snow .ql-picker-item {
  @apply text-gray-900 dark:text-gray-100;
}

.ql-snow .ql-picker-item:hover {
  @apply bg-gray-100 dark:bg-gray-800;
}

/* Code block styling in editor */
.ql-editor pre.ql-syntax {
  @apply bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4 rounded-lg border-2 border-gray-300 dark:border-gray-700 overflow-x-auto;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Inline code styling */
.ql-editor code {
  @apply bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-1.5 py-0.5 rounded border border-gray-300 dark:border-gray-700;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Active toolbar button */
.ql-snow .ql-toolbar button.ql-active,
.ql-snow.ql-toolbar button.ql-active {
  @apply bg-gray-200 dark:bg-gray-700;
}

.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:hover {
  @apply bg-gray-100 dark:bg-gray-800;
}

/* Rich Text Display Styles - Ensures proper formatting after save */
.rich-text-content {
  line-height: 1.75;
  color: inherit;
}

.rich-text-content h1 {
  @apply text-3xl font-bold mt-6 mb-4 text-gray-900 dark:text-gray-100;
}

.rich-text-content h2 {
  @apply text-2xl font-bold mt-5 mb-3 text-gray-900 dark:text-gray-100;
}

.rich-text-content h3 {
  @apply text-xl font-semibold mt-4 mb-2 text-gray-900 dark:text-gray-100;
}

.rich-text-content h4 {
  @apply text-lg font-semibold mt-3 mb-2 text-gray-800 dark:text-gray-200;
}

.rich-text-content h5,
.rich-text-content h6 {
  @apply text-base font-semibold mt-3 mb-2 text-gray-800 dark:text-gray-200;
}

.rich-text-content p {
  @apply mb-4 text-gray-700 dark:text-gray-300;
}

.rich-text-content ul {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
  @apply text-gray-700 dark:text-gray-300;
}

.rich-text-content ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
  @apply text-gray-700 dark:text-gray-300;
}

.rich-text-content li {
  margin-bottom: 0.5rem;
  @apply text-gray-700 dark:text-gray-300;
}

.rich-text-content li>ul,
.rich-text-content li>ol {
  margin-top: 0.5rem;
  margin-bottom: 0;
}

.rich-text-content strong,
.rich-text-content b {
  @apply font-bold text-gray-900 dark:text-gray-100;
}

.rich-text-content em,
.rich-text-content i {
  font-style: italic;
}

.rich-text-content u {
  text-decoration: underline;
}

.rich-text-content s,
.rich-text-content strike {
  text-decoration: line-through;
}

.rich-text-content blockquote {
  @apply pl-4 border-l-4 border-gray-400 dark:border-gray-600 italic text-gray-600 dark:text-gray-400 my-4;
}

.rich-text-content pre {
  @apply bg-gray-100 dark:bg-gray-900 p-4 rounded-lg overflow-x-auto my-4 border-2 border-gray-300 dark:border-gray-700;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

.rich-text-content code {
  @apply bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm border border-gray-300 dark:border-gray-700;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

.rich-text-content pre code {
  @apply bg-transparent p-0 border-0;
}

.rich-text-content a {
  @apply text-gray-900 dark:text-gray-100 underline decoration-2 hover:text-gray-600 dark:hover:text-gray-400;
}

.rich-text-content hr {
  @apply my-6 border-gray-300 dark:border-gray-700;
}

.rich-text-content table {
  @apply w-full border-collapse my-4;
}

.rich-text-content th,
.rich-text-content td {
  @apply border-2 border-gray-300 dark:border-gray-700 px-4 py-2 text-left;
}

.rich-text-content th {
  @apply bg-gray-100 dark:bg-gray-900 font-semibold;
}

.rich-text-content sub {
  vertical-align: sub;
  font-size: 0.75em;
}

.rich-text-content sup {
  vertical-align: super;
  font-size: 0.75em;
}

.rich-text-content mark {
  @apply bg-yellow-200 dark:bg-yellow-900 px-1 rounded;
}

/* Quill-specific list classes */
.rich-text-content .ql-indent-1 {
  padding-left: 1.5rem;
}

.rich-text-content .ql-indent-2 {
  padding-left: 3rem;
}

.rich-text-content .ql-indent-3 {
  padding-left: 4.5rem;
}

.rich-text-content .ql-indent-4 {
  padding-left: 6rem;
}

/* AI-Formatted Content - Dark Mode Overrides */
/* Override inline styles in dark mode for better visibility */
.dark .rich-text-content h1[style],
.dark .rich-text-content h2[style],
.dark .rich-text-content h3[style] {
  color: #93c5fd !important;
  border-color: #3b82f6 !important;
}

.dark .rich-text-content mark[style] {
  background-color: #854d0e !important;
  color: #fef3c7 !important;
}

/* Green text for definitions in dark mode */
.dark .rich-text-content span[style*="color: #059669"],
.dark .rich-text-content span[style*="color:#059669"] {
  color: #34d399 !important;
}

/* Red text for warnings in dark mode */
.dark .rich-text-content span[style*="color: #dc2626"],
.dark .rich-text-content span[style*="color:#dc2626"] {
  color: #f87171 !important;
}

/* Code blocks with inline styles */
.rich-text-content pre[style] {
  white-space: pre-wrap;
  word-wrap: break-word;
}

.dark .rich-text-content pre[style] {
  background-color: #0f172a !important;
  border: 1px solid #334155 !important;
}

/* Inline code with inline styles */
.dark .rich-text-content code[style] {
  background-color: #1e293b !important;
  color: #e2e8f0 !important;
}

/* Tables with inline styles */
.dark .rich-text-content table[style] {
  border-color: #4b5563 !important;
}

.dark .rich-text-content th[style],
.dark .rich-text-content td[style] {
  border-color: #4b5563 !important;
}

.dark .rich-text-content th[style] {
  background-color: #1f2937 !important;
  color: #f3f4f6 !important;
}

/* Handle alternating row colors in dark mode */
.dark .rich-text-content tbody tr[style*="background-color: #f9fafb"],
.dark .rich-text-content tbody tr[style*="background-color:#f9fafb"] {
  background-color: #1e293b !important;
}

.dark .rich-text-content tbody tr[style*="background-color: #ffffff"],
.dark .rich-text-content tbody tr[style*="background-color:#ffffff"] {
  background-color: #0f172a !important;
}

.dark .rich-text-content td[style] {
  background-color: transparent !important;
  color: #e2e8f0 !important;
}

.dark .rich-text-content thead tr[style] {
  background-color: #1f2937 !important;
  color: #f3f4f6 !important;
}

/* Scrollbar Styles */
::-webkit-scrollbar {
  @apply w-2 h-2;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 dark:bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500 dark:bg-gray-500;
}

/* Loading Animation */
.spinner {
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  border-top-color: #000;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

.dark .spinner {
  border: 3px solid rgba(255, 255, 255, 0.1);
  border-top-color: #fff;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Landing Page Specific Styles */
html {
  scroll-behavior: smooth;
}

/* Oversized Typography for Landing */
.landing-hero-text {
  font-family: 'Space Grotesk', sans-serif;
  font-weight: 900;
  letter-spacing: -0.05em;
}

/* Glassmorphism Utilities */
.glass {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Magnetic Button Effect */
@keyframes magnetic-pulse {

  0%,
  100% {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
  }

  50% {
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.4);
  }
}

.magnetic-button:hover {
  animation: magnetic-pulse 2s ease-in-out infinite;
}

/* Cursor Glow */
.cursor-glow {
  position: fixed;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  pointer-events: none;
  mix-blend-mode: difference;
  z-index: 9999;
  transition: transform 0.2s ease;
}

/* Hide scrollbar for horizontal scroll sections */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}